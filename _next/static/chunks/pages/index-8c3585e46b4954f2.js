(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(8701)}])},4903:function(e,n,a){"use strict";a.d(n,{Z:function(){return l}});var t=a(5893),r=(a(7294),a(9008)),i=a.n(r),s=a(1664),o=a.n(s),c=a(8072),u=a.n(c),l=function(e){var n=e.children,a=e.title;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i(),{children:[(0,t.jsx)("meta",{itemProp:"keywords",content:"beer, beer catalog, beer database"}),(0,t.jsx)("title",{children:a||"Beer App"})]}),(0,t.jsxs)("div",{className:u().root,children:[(0,t.jsx)("header",{className:u().header,children:(0,t.jsx)(o(),{href:"/",children:(0,t.jsx)("h1",{className:u().logo,children:"Beer App"})})}),(0,t.jsx)("main",{className:u().main,children:n})]})]})}},8701:function(e,n,a){"use strict";a.r(n),a.d(n,{__N_SSG:function(){return X},default:function(){return O}});var t,r=a(7568),i=a(4051),s=a.n(i),o=a(5893),c=a(7294),u=a(1358),l=a.n(u),_=a(8231),p=a.n(_),d=a(1664),g=a.n(d),f=a(5675),h=a.n(f),v=a(3873),m=a.n(v),x=function(e){var n,a=e.beer;return(0,o.jsx)(g(),{href:"/beer/[id]?id=".concat(a.id),children:(0,o.jsxs)("a",{className:m().root,children:[(0,o.jsx)("div",{className:m().image,children:(0,o.jsx)(h(),{src:null!==(t=a.image_url)&&void 0!==t?t:"/assets/img/no-image-placeholder.jpg",alt:"Beer",width:381,height:760,objectFit:"contain"})}),(0,o.jsxs)("div",{className:m().body,children:[(0,o.jsx)("h2",{className:m().name,children:a.name}),(0,o.jsx)("p",{children:(n=a.description,n.length>140?"".concat(n.slice(0,140),"..."):n)})]})]})})},k=function(e){var n=e.data,a=n&&n.map((function(e){return(0,o.jsx)(x,{beer:e},e.id)}));return(0,o.jsx)("div",{className:p().root,children:a})},b=a(3567),j=a.n(b),N=function(e){var n=e.data,a=e.search,t=(0,c.useState)("0"),r=t[0],i=t[1],s=(0,c.useState)(null),u=s[0],_=s[1],p=(0,c.useState)(null),d=p[0],g=p[1],f=(0,c.useState)(null),h=f[0],v=f[1],m=d?d.length:null===n||void 0===n?void 0:n.length,x=Math.ceil((m||0)/12);(0,c.useEffect)((function(){_(n)}),[n]),(0,c.useEffect)((function(){g(a)}),[a]),(0,c.useEffect)((function(){var e=12*Number(r),n=e+12;m&&n>m&&(n=m);var a=d?d.slice(e,n):null===u||void 0===u?void 0:u.slice(e,n);v(a||null)}),[r,u,d]);return(0,o.jsxs)("div",{className:j().root,children:[(0,o.jsx)(k,{data:h}),(0,o.jsx)(l(),{className:j().paginator,pageLinkClassName:j()["paginator__page-link"],activeLinkClassName:j()["paginator__page-link--active"],previousLinkClassName:j()["paginator__previous-link"],nextLinkClassName:j()["paginator__next-link"],breakLinkClassName:j()["paginator__break-link"],previousLabel:"<",nextLabel:">",breakLabel:"...",onPageChange:function(e){var n=e.selected;i(n.toString())},pageRangeDisplayed:5,marginPagesDisplayed:1,pageCount:x})]})},w=a(4903),C=a(1001),L=a.n(C),B=function(e){var n=e.searchHandler;return(0,o.jsx)("div",{className:L().root,children:(0,o.jsx)("input",{type:"search",placeholder:"Search",onChange:n,className:L().input})})};var S=function(e,n){var a=(0,c.useState)(e),t=a[0],r=a[1];return(0,c.useEffect)((function(){var a=setTimeout((function(){r(e)}),n);return function(){clearTimeout(a)}}),[e]),t},P=a(1799),y=a(797),E=a(9669),M=a.n(E),Z=function(){var e=(0,r.Z)(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M().get("https://api.punkapi.com/v2/beers",{params:n}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),T=Z,A=function(){var e=(0,r.Z)(s().mark((function e(){var n,a,t,i,o=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},a=[],t=80,i=1,e.abrupt("return",function(){var e=(0,r.Z)(s().mark((function e(){var r,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,P.Z)({page:i,per_page:t},n),e.next=3,T(r);case 3:if(c=e.sent.data,a=(0,y.Z)(a).concat((0,y.Z)(c)),c.length!==t){e.next=8;break}return i+=1,e.abrupt("return",o());case 8:return e.abrupt("return",{totalBeers:a.length,totalPages:i,data:a});case 9:case"end":return e.stop()}}),e)})));function o(){return e.apply(this,arguments)}return o}());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=A,X=!0,O=function(e){var n=e.data,a=(0,c.useState)(""),t=a[0],i=a[1],u=(0,c.useState)(null),l=u[0],_=u[1],p=S(t,500);(0,c.useEffect)((function(){p?(0,r.Z)(s().mark((function e(){var n,a,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={beer_name:p},e.next=3,F(n);case 3:return e.t0=e.sent,e.next=6,(0,e.t0)();case 6:a=e.sent,(t=a.data)&&t.length>0?_(t):_(null);case 9:case"end":return e.stop()}}),e)})))():_(null)}),[p]);return(0,o.jsxs)(w.Z,{children:[(0,o.jsx)(B,{searchHandler:function(e){var n=e.target;i(n.value)}}),(0,o.jsx)(N,{data:n,search:l})]})}},3873:function(e){e.exports={root:"BeerCard_root__AVLQg",image:"BeerCard_image__diwLr",body:"BeerCard_body__hd1UV",name:"BeerCard_name__SorHX"}},8231:function(e){e.exports={root:"BeerList_root__dTrXw"}},1001:function(e){e.exports={root:"BeerSearchInput_root__MsRwg",input:"BeerSearchInput_input__V_4Rr"}},8072:function(e){e.exports={root:"MainContainer_root__s1_F6",header:"MainContainer_header__VGn6u",logo:"MainContainer_logo__y3gLO",main:"MainContainer_main__9Uwdq"}},3567:function(e){e.exports={root:"PaginatedBeerList_root__sMikT",paginator:"PaginatedBeerList_paginator__FtcS7","paginator__page-link":"PaginatedBeerList_paginator__page-link__5xu2M","paginator__page-link--active":"PaginatedBeerList_paginator__page-link--active__X0A2F","paginator__previous-link":"PaginatedBeerList_paginator__previous-link__yaAE5","paginator__next-link":"PaginatedBeerList_paginator__next-link__5UkGM","paginator__break-link":"PaginatedBeerList_paginator__break-link__C1IOl"}}},function(e){e.O(0,[247,924,774,888,179],(function(){return n=8312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);